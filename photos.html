<!DOCTYPE html>
<html lang="en">
<head>
<title>HAMED TAHIRI</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
<script src="main.js"></script>
<script>
const username = "hanjoojn";
const repo = "hanjoojn.github.io";
const folder = "Photos";

const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${folder}`;

async function loadImages() {
  try {
    const response = await fetch(apiUrl);

    if (!response.ok) {
      throw new Error("GitHub API error");
    }

    const files = await response.json();
    const gallery = document.getElementById("photobox");

    files.filter(file =>
        file.type === "file" &&
        /\.(jpg|jpeg|png|gif|webp)$/i.test(file.name)
      )
    
    for (let i = 0; i < files.length; i += 3) {

    // Create row wrapper
    const row = document.createElement("div");
    row.classList.add("photobox");

    // Get next 3 images
    const group = files.slice(i, i + 3);

    group.forEach(file => {
      const wrapper = document.createElement("div");

      const img = document.createElement("img");
      img.onload = function () {
        wrapper.style.aspectRatio = img.naturalWidth / img.naturalHeight;
      };
      img.src = file.download_url;
      img.alt = file.name;
      img.loading = "lazy";
      img.decoding = "async";

      wrapper.appendChild(img);
      row.appendChild(wrapper);
    });

      gallery.appendChild(row);
    }

  } catch (error) {
    console.error("Error loading images:", error);
  }
}

loadImages();
</script>
</head>

<body>
  <div class="main flex">
    <div class="header green">
      <div class="logo-box flex column">
        <img class="logo" src="logo.svg">
        <h style="font-weight:bold;">HAMED TAHIRI</h>
      </div>

      <nav>
        <li class="flex column">
          <a href="/" class="btn">Work</a>
          <a href="/design" class="btn">Design</a>
          <a href="/photos" class="btn btn-active">Photos</a>
          <a href="/videos" class="btn">Videos</a>
          <a href="/music" class="btn">Music</a>
        </li>
      </nav>
    </div>

    <div class="body green">
      <div id="photobox" class="photos">
        <!--
        <div class="photobox">
          <div>
            <img loading="lazy" src="Photos/DSC03084.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03094.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03105.jpg">
          </div>
        </div>

        <div class="photobox">
          <div>
            <img loading="lazy" src="Photos/DSC03137.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03145.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03148.jpg">
          </div>
        </div>

        <div class="photobox">
          <div>
            <img loading="lazy" src="Photos/DSC03154.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03155.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03156.jpg">
          </div>
        </div>

        <div class="photobox">
          <div>
            <img loading="lazy" src="Photos/DSC03237.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03293.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03296.jpg">
          </div>
        </div>
        
        <div class="photobox">
          <div>
            <img loading="lazy" src="Photos/DSC03556.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03582.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03603.jpg">
          </div>
        </div>
        
        <div class="photobox">
          <div>
            <img loading="lazy" src="Photos/DSC03622.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03642.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC03659.jpg">
          </div>
        </div>
        
        <div class="photobox">
          <div>
            <img loading="lazy" src="Photos/DSC03885.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC04300.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC04340.jpg">
          </div>
        </div>
        
        <div class="photobox">
          <div>
            <img loading="lazy" src="Photos/DSC04431.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC04456.jpg">
          </div>
          <div>
            <img loading="lazy" src="Photos/DSC04471.jpg">
          </div>
        </div>
        -->
      </div>
    </div>
  </div>
</body>
</html>


















